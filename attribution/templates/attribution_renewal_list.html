{% load staticfiles %}
{% load i18n %}

{% comment "License" %}
* OSIS stands for Open Student Information System. It's an application
* designed to manage the core business of higher education institutions,
* such as universities, faculties, institutes and professional schools.
* The core business involves the administration of students, teachers,
* courses, programs and so on.
*
* Copyright (C) 2015-2016 Universit√© catholique de Louvain (http://www.uclouvain.be)
*
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* A copy of this license - GNU General Public License - is available
* at the root of the source code of this program.  If not,
* see http://www.gnu.org/licenses/.
{% endcomment %}
<br>
<form action="{% url 'renew_applications' %}" method="post">
    {% csrf_token %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th colspan="4"></th>
                <th class="text-center" colspan="2" style="border-left-style: solid;border-left-width:1px;">{{ application_year }}</th>
                <th class="text-center" colspan="5" style="border-left-style: solid;border-left-width:1px;">{{ current_academic_year }}</th>
            </tr>
            <tr >
                <th colspan="4"></th>
                <th colspan="2" class="text-center"  style="border-left-style: solid;border-left-width:1px;" >{% trans 'vacant' %}</th>
                <th colspan="4" style="border-left-style: solid;border-left-width:1px;"></th>
            </tr>
            <tr >
                <th class="text-center">
                    <span id="spn_renew_title">
                        {% trans 'renew' %}
                        <input type="checkbox"
                               id="chb_renew_all"
                               name="attribution_renew_all"
                               title="{% trans 'select_all' %}" disabled />
                    </span>
                </th>
                <th style="vertical-align: top">{% trans 'code'%}</th>
                <th style="vertical-align: top" >{% trans 'title'%}</th>
                <th style="vertical-align: top" >{% trans 'team'%}</th>
                <th style="border-left-style: solid;border-left-width:1px;vertical-align: top;">{% trans 'lecturing_hours'%}</th>
                <th style="vertical-align: top">{% trans 'practical_hours'%}</th>
                <th style="border-left-style: solid;border-left-width:1px;vertical-align: top;">{% trans 'start' %}</th>
                <th style="vertical-align: top">{% trans 'end' %}</th>
                <th style="vertical-align: top">{% trans 'lecturing_hours_allocated'%} </th>
                <th style="vertical-align: top">{% trans 'practical_hours_allocated'%}</th>
                <th style="vertical-align: top">{% trans 'function'%}</th>

            </tr>
        </thead>
        <tbody>
            {% for attribution in attributions %}
                <tr>
                    <td class="text-center">
                        <div class="tooltip-wrapper" data-toggle="tooltip" data-placement="top"
                                     title="{% if attribution.not_renewable_reason %}
                                                {% trans attribution.not_renewable_reason %}
                                            {% endif %}">
                            <input type="checkbox"
                                   id="chb_attribution_renew_{{ forloop.counter }}"
                                   name="learning_container_year_{{ attribution.acronym }}"
                                   {% if not attribution.is_renewable %} disabled {% endif %}
                            />
                        </div>
                    </td>
                    <td>{{ attribution.acronym }}</td>
                    <td>{{ attribution.title }}</td>
                    <td class="text-center">
                        {% if attribution.team %}
                            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        {% endif %}
                    </td>
                    <td style="border-left-style: solid;border-left-width:1px;">
                        {{ attribution.attribution_vacant.LECTURING|default_if_none:'' }}
                    </td>
                    <td>
                        {{ attribution.attribution_vacant.PRACTICAL_EXERCISES|default_if_none:'' }}

                    </td>
                    <td style="border-left-style: solid;border-left-width:1px;">{{ attribution.start_academic_year}}</td>
                    <td>{{ attribution.end_academic_year}}</td>
                    <td>
                        {{ attribution.LECTURING|default_if_none:'' }}
                    </td>
                    <td>
                        {{ attribution.PRACTICAL_EXERCISES|default_if_none:'' }}
                    </td>
                    <td>{% trans attribution.function %}</td>
                </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="13">
                <button id="bt_submit_attribution_renew"
                        class="btn btn-primary"
                        role="button"
                        type="submit"
                        title="{% trans 'renew' %}">
                    <span class="glyphicon glyphicon-repeat"></span> {% trans 'renew' %}</button>
                </td>
            </tr>
        </tfoot>
    </table>
</form>